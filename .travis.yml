language: python
python:
- 3.6
services:
- mysql
branches:
  only:
  - develop
install:
- pip install --upgrade pip
- pip install -e .
- pip install -r requirements.txt
- pip install flake8
- pip install coveralls
before_script:
- flake8 django_offline
- mysql -e 'create database edc character set utf8;'
script:
- coverage run --source=django_offline manage.py test
after_success:
- coveralls
notifications:
  slack:
    secure: WLvIu2vYG3NvcK3BduID2qCrxdGlPBcOXwGBvRJ+hmgeqNPUQH4U3a2kKSEG8LlYDGc/wfWJCwCdZxPy7MtLo83OQmu9Iu++Q6dD4tpprCfW08L6if16HwW2M7SsdrBV9i79CbCih/PxtsnC+Se1JUeNovLJZ/6EcUyFtLL/ut5osfvB8x1qM9FC1qOH3JooTxTz3bY3vDzc0HxBIaWiQSspSpaSb5FnG7m2km+CUuY1w4wH5y8sjxApPNSVwfPoGj9kGX7nvXAnjL/ats5w6Fsoih/XZG5+hw8AtWGIHvqEWnVl4+skPs19OA595ZBVNKX0KKiGYTpdlD4uPuOYP5cu5LoZ0tHVSA+3dFtpzjTryMaXrVnBilTWp5fwNn1xs6PUWr+tNwzaJN53f4SG4iEic3f9F1tnLiziH6IROobyZd5Mu0Ky4qAZ7xBPBPrFrNtKCdpVQffo7kko5OSwd+aXQWs9FMuDEpKuCEy6GzWE3RjHhgjlCbWUzrSy0Qgy2/voLSh10ezai6MmI9o4Pu/UJfDGnVmMdNiEcxwfLA2kitTK7ubrb5zZFw5ZGKlUekNMnsuW0eXPShgsFTwxadVvdBUn0ZO9J+SvlK0y3e0n85DOVMMDaQRHuLy/VtW2cMDWOMb1xEleRCXa8H2vKmMKsbOUosCQ9EXVxlx0vP4=
